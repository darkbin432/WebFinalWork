<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hele.hzjs.persistence.OfficialDocumentDao">

  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultType="com.hele.hzjs.model.OfficialDocument">
    select *
    from official_document
    where id = #{id,jdbcType=INTEGER} and status = 1
  </select>

  <select id="getPageCount" parameterType="com.hele.hzjs.model.param.OfficialDocumentParam" resultType="Integer">
    select count(*)
    from official_document
    <where>
      status = 1
      <if test="name != null and name != ''">
        and nigaor like concat('%',#{name},'%')
      </if>
      <if test="date != null and date != ''">
        and date(created_time) = date(#{date})
      </if>
    </where>
  </select>

  <select id="selectByCondition" parameterType="com.hele.hzjs.model.param.OfficialDocumentParam" resultType="com.hele.hzjs.model.OfficialDocument">
    select *
    from official_document
    <where>
      status = 1
      <if test="name != null and name != ''">
          and nigaor like concat('%',#{name},'%')
      </if>
      <if test="date != null and date != ''">
          and date(created_time) = date(#{date})
      </if>
    </where>
    order by created_time desc
  </select>

  <update id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    update official_document
    set status = 0,
    updated_time = now()
    where id = #{id,jdbcType=INTEGER}
  </update>

  <insert id="insertSelective" parameterType="com.hele.hzjs.model.OfficialDocument">
    <selectKey keyProperty="id" order="AFTER" resultType="java.lang.Integer">
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into official_document
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="reportPersonId != null">
        report_person_id,
      </if>
      <if test="zhusongjg != null">
        zhusongjg,
      </if>
      <if test="danweiyj != null">
        danweiyj,
      </if>
      <if test="shenheyj != null">
        shenheyj,
      </if>
      <if test="fawenh != null">
        fawenh,
      </if>
      <if test="zhubancs != null">
        zhubancs,
      </if>
      <if test="title != null">
        title,
      </if>
      <if test="contentReal != null">
        content_real,
      </if>
      <if test="content != null">
        content,
      </if>
      <if test="contentSize != null">
        content_size,
      </if>
      <if test="file != null">
        file,
      </if>
      <if test="fileReal != null">
        file_real,
      </if>
      <if test="fileSize != null">
        file_size,
      </if>
      <if test="chaosongjg != null">
        chaosongjg,
      </if>
      <if test="chuzhanghq != null">
        chuzhanghq,
      </if>
      <if test="nigaor != null">
        nigaor,
      </if>
      <if test="jiaodui != null">
        jiaodui,
      </if>
      <if test="gongyin != null">
        gongyin,
      </if>
      <if test="yinfasj != null">
        yinfasj,
      </if>
      <if test="zhutic != null">
        zhutic,
      </if>
      <if test="version != null">
        version,
      </if>
      created_time,
      updated_time,
      status
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=INTEGER},
      </if>
      <if test="reportPersonId != null">
        #{reportPersonId,jdbcType=INTEGER},
      </if>
      <if test="zhusongjg != null">
        #{zhusongjg,jdbcType=VARCHAR},
      </if>
      <if test="danweiyj != null">
        #{danweiyj,jdbcType=VARCHAR},
      </if>
      <if test="shenheyj != null">
        #{shenheyj,jdbcType=VARCHAR},
      </if>
      <if test="fawenh != null">
        #{fawenh,jdbcType=VARCHAR},
      </if>
      <if test="zhubancs != null">
        #{zhubancs,jdbcType=VARCHAR},
      </if>
      <if test="title != null">
        #{title,jdbcType=VARCHAR},
      </if>
      <if test="contentReal != null">
        #{contentReal,jdbcType=VARCHAR},
      </if>
      <if test="content != null">
        #{content,jdbcType=VARCHAR},
      </if>
      <if test="contentSize != null">
        #{contentSize,jdbcType=VARCHAR},
      </if>
      <if test="file != null">
        #{file,jdbcType=VARCHAR},
      </if>
      <if test="fileReal != null">
        #{fileReal,jdbcType=VARCHAR},
      </if>
      <if test="fileSize != null">
        #{fileSize,jdbcType=VARCHAR},
      </if>
      <if test="chaosongjg != null">
        #{chaosongjg,jdbcType=VARCHAR},
      </if>
      <if test="chuzhanghq != null">
        #{chuzhanghq,jdbcType=VARCHAR},
      </if>
      <if test="nigaor != null">
        #{nigaor,jdbcType=VARCHAR},
      </if>
      <if test="jiaodui != null">
        #{jiaodui,jdbcType=VARCHAR},
      </if>
      <if test="gongyin != null">
        #{gongyin,jdbcType=INTEGER},
      </if>
      <if test="yinfasj != null">
        #{yinfasj,jdbcType=DATE},
      </if>
      <if test="zhutic != null">
        #{zhutic,jdbcType=VARCHAR},
      </if>
      <if test="version != null">
        #{version,jdbcType=VARCHAR},
      </if>
      now(),
      now(),
      1
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.hele.hzjs.model.OfficialDocument">
    update official_document
    <set>
      <if test="reportPersonId != null">
        report_person_id = #{reportPersonId,jdbcType=INTEGER},
      </if>
      <if test="zhusongjg != null">
        zhusongjg = #{zhusongjg,jdbcType=VARCHAR},
      </if>
      <if test="danweiyj != null">
        danweiyj = #{danweiyj,jdbcType=VARCHAR},
      </if>
      <if test="shenheyj != null">
        shenheyj = #{shenheyj,jdbcType=VARCHAR},
      </if>
      <if test="fawenh != null">
        fawenh = #{fawenh,jdbcType=VARCHAR},
      </if>
      <if test="zhubancs != null">
        zhubancs = #{zhubancs,jdbcType=VARCHAR},
      </if>
      <if test="title != null">
        title = #{title,jdbcType=VARCHAR},
      </if>
      <if test="contentReal != null">
        content_real = #{contentReal,jdbcType=VARCHAR},
      </if>
      <if test="content != null">
        content = #{content,jdbcType=VARCHAR},
      </if>
      <if test="contentSize != null">
        content_size = #{contentSize,jdbcType=VARCHAR},
      </if>
      <if test="file != null">
        file = #{file,jdbcType=VARCHAR},
      </if>
      <if test="fileReal != null">
        file_real = #{fileReal,jdbcType=VARCHAR},
      </if>
      <if test="fileSize != null">
        file_size = #{fileSize,jdbcType=VARCHAR},
      </if>
      <if test="chaosongjg != null">
        chaosongjg = #{chaosongjg,jdbcType=VARCHAR},
      </if>
      <if test="chuzhanghq != null">
        chuzhanghq = #{chuzhanghq,jdbcType=VARCHAR},
      </if>
      <if test="nigaor != null">
        nigaor = #{nigaor,jdbcType=VARCHAR},
      </if>
      <if test="jiaodui != null">
        jiaodui = #{jiaodui,jdbcType=VARCHAR},
      </if>
      <if test="gongyin != null">
        gongyin = #{gongyin,jdbcType=INTEGER},
      </if>
      <if test="yinfasj != null">
        yinfasj = #{yinfasj,jdbcType=DATE},
      </if>
      <if test="zhutic != null">
        zhutic = #{zhutic,jdbcType=VARCHAR},
      </if>
      <if test="createdTime != null">
        created_time = #{createdTime,jdbcType=TIMESTAMP},
      </if>
      <if test="version != null">
        version = #{version,jdbcType=VARCHAR},
      </if>
      <if test="status != null">
        status = #{status,jdbcType=BIT},
      </if>
      updated_time = now()
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
</mapper>